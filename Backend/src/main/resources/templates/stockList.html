<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>KOSPI ì£¼ì‹ ëª©ë¡</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container mt-5">
    <h2 class="text-center mb-4">ğŸ“ˆ KOSPI ì£¼ì‹ ëª©ë¡</h2>
    <table class="table table-hover text-center" id="stock-table">
        <thead>
        <tr>
            <th>ì¢…ëª©ëª…</th><th>ê¸°ì¤€ì¼</th><th>ì‹œê°€</th><th>ì¢…ê°€</th><th>ê³ ê°€</th><th>ì €ê°€</th><th>ê±°ë˜ëŸ‰</th>
        </tr>
        </thead>
        <tbody id="stock-body">
        </tbody>
    </table>
</div>

<script>
    fetch('/stock/api/kospi?page=1')
        .then(response => response.json())
        .then(data => {
            const tbody = document.getElementById('stock-body');
            data.forEach(stock => {
                const row = `
                <tr>
                    <td>${stock.itmsNm}</td>
                    <td>${stock.basDt}</td>
                    <td>${Number(stock.mkp).toLocaleString()}</td>
                    <td>${Number(stock.clpr).toLocaleString()}</td>
                    <td>${Number(stock.hipr).toLocaleString()}</td>
                    <td>${Number(stock.lopr).toLocaleString()}</td>
                    <td>${Number(stock.trqu).toLocaleString()}</td>
                </tr>
                `;
                tbody.insertAdjacentHTML('beforeend', row);
            });
        });
</script>
</body>
</html>